<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>nostr-geotags</title><meta name="description" content="Documentation for nostr-geotags"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">nostr-geotags</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>nostr-geotags</h2></div><div class="tsd-panel tsd-typography"><a id="md:nostr-geotags" class="tsd-anchor"></a><h1><a href="#md:nostr-geotags">nostr-geotags</a></h1><blockquote>
<p>ATTENTION: Use at your own risk, this is not a widely accepted standard, and there are chances a proposed standard will differ greatly or slightly from this pattern. <a href="https://github.com/nostr-protocol/nips/pull/952">See NIP-115</a></p>
</blockquote>
<p><a href="https://github.com/sandwichfarm/nostr-geotags/releases/latest"><img src="https://img.shields.io/npm/v/nostr-geotags" alt="semver"></a> 
<a href="https://github.com/sandwichfarm/nostr-geotags/actions"><img src="https://sandwichfarm.github.io/nostr-geotags/badges/coverage.svg" alt="cov"></a>
<a href="https://github.com/sandwichfarm/nostr-geotags/actions/workflows/buildtest.yaml"><img src="https://github.com/sandwichfarm/nostr-geotags/actions/workflows/buildtest.yaml/badge.svg" alt="test"></a> 
<a href="https://github.com/sandwichfarm/nostr-geotags/actions/workflows/publish.yaml"><img src="https://github.com/sandwichfarm/nostr-geotags/actions/workflows/publish.yaml/badge.svg" alt="publish"></a> 
<a href="https://github.com/sandwichfarm/nostr-geotags/actions/workflows/docs.yaml"><img src="https://github.com/sandwichfarm/nostr-geotags/actions/workflows/docs.yaml/badge.svg" alt="docs"></a> 
<a href="https://github.com/sandwichfarm/nostr-geotags/actions/workflows/coverage.yaml"><img src="https://github.com/sandwichfarm/nostr-geotags/actions/workflows/coverage.yaml/badge.svg" alt="covgen"></a> 
<img src="https://img.shields.io/bundlephobia/minzip/nostr-geotags" alt="npm bundle size">
<img src="https://img.shields.io/bundlephobia/min/nostr-geotags" alt="npm bundle size"></p>
<a id="md:summary" class="tsd-anchor"></a><h2><a href="#md:summary">Summary</a></h2><p><code>nostr-geotags</code> is a modern ESM-only package for generating nostr geo tags (<code>[&#39;g&#39;, ...]</code>) based on various inputs like latitude, longitude, city, country, etc. It uses <code>iso-3166</code> and <code>ngeohash</code> to generate geodata.  This package is alpha and the API and response formats <em>will</em> change.</p>
<p>This package was derived from needs in <a href="https://github.com/sandwichfarm/nostr-watch"><code>@nostrwatch</code></a>, an <em>OpenSats Grant Recipient</em>, and so was made possible by <a href="https://opensats.org/">OpenSats</a>.</p>
<a id="md:installation" class="tsd-anchor"></a><h2><a href="#md:installation">Installation</a></h2><p>The package is available on npm and can be installed using npm, yarn, or pnpm.</p>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">nostr</span><span class="hl-1">-</span><span class="hl-0">geotags</span><br/><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> </span><span class="hl-0">nostr</span><span class="hl-1">-</span><span class="hl-0">geotags</span><br/><br/><span class="hl-0">pnpm</span><span class="hl-1"> </span><span class="hl-0">add</span><span class="hl-1"> </span><span class="hl-0">nostr</span><span class="hl-1">-</span><span class="hl-0">geotags</span>
</code><button>Copy</button></pre>
<a id="md:usage" class="tsd-anchor"></a><h2><a href="#md:usage">Usage</a></h2><pre><code><span class="hl-2">import</span><span class="hl-1"> </span><span class="hl-0">ngeotags</span><span class="hl-1"> </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-3">&#39;nostr-geotags&#39;</span><br/><br/><span class="hl-0">event</span><span class="hl-1"> = {}</span><br/><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">kind</span><span class="hl-1"> = </span><span class="hl-4">1</span><br/><span class="hl-5">//created_at, content etc...</span><br/><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">tags</span><span class="hl-1"> = []</span><br/><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">tags</span><span class="hl-1">.</span><span class="hl-6">push</span><span class="hl-1">([</span><span class="hl-3">&#39;t&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;nostrworks&#39;</span><span class="hl-1">])</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">inputData</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-0">lat:</span><span class="hl-1"> </span><span class="hl-4">52.5200</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">lon:</span><span class="hl-1"> </span><span class="hl-4">13.4050</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">city:</span><span class="hl-1"> </span><span class="hl-3">&#39;Berlin&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">countryCode:</span><span class="hl-1"> </span><span class="hl-3">&#39;DE&#39;</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-7">const</span><span class="hl-1"> </span><span class="hl-8">options</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-0">geohash:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">gps:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">city:</span><span class="hl-1"> </span><span class="hl-7">true</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">iso31662:</span><span class="hl-1"> </span><span class="hl-7">true</span><br/><span class="hl-1">};</span><br/><br/><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">tags</span><span class="hl-1"> = [...</span><span class="hl-0">event</span><span class="hl-1">.</span><span class="hl-0">tags</span><span class="hl-1">, ...</span><span class="hl-6">ngeotags</span><span class="hl-1">(</span><span class="hl-0">inputData</span><span class="hl-1">, </span><span class="hl-0">options</span><span class="hl-1">)];</span><br/><span class="hl-5">//sign and verify the event</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">event</span><span class="hl-1">);</span>
</code><button>Copy</button></pre>
<a id="md:input-reference" class="tsd-anchor"></a><h2><a href="#md:input-reference">Input Reference</a></h2><p>The <code>inputData</code> object can contain:</p>
<ul>
<li>lat (number): Latitude</li>
<li>lon (number): Longitude</li>
<li>city (string)</li>
<li>country (string)</li>
<li>regionName (string)</li>
<li>countryCode (string)</li>
<li>Any other key-value pairs</li>
</ul>
<a id="md:input-reference-1" class="tsd-anchor"></a><h2><a href="#md:input-reference-1">Input Reference</a></h2><p>The <code>inputData</code> object can contain the following properties, used to generate geo-tags:</p>
<ul>
<li><code>lat</code> (number): Latitude coordinate. No default value.</li>
<li><code>lon</code> (number): Longitude coordinate. No default value.</li>
<li><code>geohash</code> (string): Geohash coordinate. No default value. Will be ignored if lat &amp; lon are also passed as input as they take precedence.</li>
<li><code>city</code> (string): Name of the city. No default value.</li>
<li><code>country</code> (string): Name of the country. No default value.</li>
<li><code>regionName</code> (string): Name of the region or state. No default value.</li>
<li><code>countryCode</code> (string): <code>ISO-3166-1:alpha-2</code> country code. No default value.</li>
<li>Other properties (any): Additionally, key value pairs will be ignored but do not throw an error.</li>
<li><code>planetName</code> (string): Name of a planet.</li>
</ul>
<a id="md:options-reference" class="tsd-anchor"></a><h2><a href="#md:options-reference">Options Reference</a></h2><p>The <code>options</code> object specifies which types of tags to generate. </p>
<a id="md:iso-options" class="tsd-anchor"></a><h3><a href="#md:iso-options">ISO options</a></h3><ul>
<li><code>iso31661</code> (boolean): Generate ISO 3166-1 tags. Default: <code>true</code>.</li>
<li><code>iso31662</code> (boolean): Generate ISO 3166-2 tags. Default: <code>false</code>.</li>
<li><code>iso31663</code> (boolean): Generate ISO 3166-3 tags. Default: <code>true</code>. See <code>ISO-3166-3 Behaviors</code></li>
</ul>
<a id="md:transform-options" class="tsd-anchor"></a><h3><a href="#md:transform-options">Transform options</a></h3><ul>
<li><code>isoAsNamespace</code> (boolean): Use ISO standand (ex: <code>ISO-3166-1</code>)  as the namespace for tags. If false will use <code>countryCode</code> and <code>regionCode</code> instead of <code>ISO-3166-1/3</code> and <code>iso-3166-2</code> respectively. Default: <code>false</code>.</li>
</ul>
<a id="md:response-options" class="tsd-anchor"></a><h3><a href="#md:response-options">Response Options</a></h3><p>Please note: that these will only have an effect on the output if the input for their corresponding values were set. This is especially true for passthrough values. Some of these passthrough values may be deduped if they are not unique against ISO values. </p>
<ul>
<li><code>geohash</code> (boolean): Includes geohash codes from <code>ngeohash</code>, with diminishing resolution, based on latitude and longitude. Default: <code>true</code>.</li>
<li><code>city</code> or <code>cityName</code> (boolean): Include a tag for the city in response <strong>if available</strong>. Default: <code>true</code>.</li>
<li><code>country</code> (boolean): Include a tag for the <code>countryCode</code> and <code>countryName</code> in response <strong>if available</strong>. Default: <code>true</code>.</li>
<li><code>countryCode</code> (boolean): Include a tag for the <code>countryCode</code> in response <strong>if available</strong>. Default: <code>true</code>.</li>
<li><code>countryName</code> (boolean): Include a tag for the <code>countryName</code> in response <strong>if available</strong>. Default: <code>true</code>.</li>
<li><code>region</code> (boolean): Include a tag for the <code>regionCode</code> and <code>regionName</code> in response <strong>if available</strong>. Default:<code>true</code>.</li>
<li><code>regionCode</code> (boolean): Include a tag for the <code>regionCode</code> in response <strong>if available</strong>. Default:<code>true</code>.</li>
<li><code>regionName</code> (boolean): Include a tag for the <code>regionName</code> in response <strong>if available</strong>. Default:<code>true</code>.</li>
<li><code>gps</code> (boolean): Include latitude and longitude as a &#39;dd&#39; tag (de-factor GPS standards) and separate tags for lat and lon with diminishing resolution. Default: <code>false</code>.</li>
<li><code>planet</code> or <code>planetName</code> (boolean): Include a tag for the <code>planetName</code> in response <strong>if available</strong>. Default: <code>false</code>.</li>
</ul>
<a id="md:compatibility-options" class="tsd-anchor"></a><h3><a href="#md:compatibility-options">Compatibility Options</a></h3><ul>
<li><code>legacy</code> (boolean) Will only return legacy <code>g</code> tags, for example: <code>[&quot;g&quot;, &quot;u2mwdd&quot;]</code></li>
</ul>
<a id="md:response-reference" class="tsd-anchor"></a><h2><a href="#md:response-reference">Response Reference</a></h2><p>The function returns an array of tuples, where each tuple represents a tag and its associated data. The format of the tuples is based on <code>NIP-01</code>.</p>
<ul>
<li>The first element (<code>&#39;g&#39;</code>) is a constant indicating the type of tag.</li>
<li>The second element is the <code>value</code> of the tag, which can vary based on the input and options used. </li>
<li>The third element is the <code>key</code> of the tag.</li>
<li>The fourth element (optional) is the <code>standard</code>, which is serialized with a <code>:</code> where when split <code>standard[0]</code> is the the standard&#39;s identified and <code>standard[1]</code> is the standard&#39;s value. This field is only used for ISO.</li>
</ul>
<a id="md:determining-tag-usage" class="tsd-anchor"></a><h3><a href="#md:determining-tag-usage">Determining tag usage</a></h3><p>Which tags you use depend on use-case. If your concerns are namely geospacial, using only geohashes likely suffice, if your concerns around around borders, languages or laws, <code>ISO-3166-3</code> may suffice. If your concerns are mixed, a combination of standards will suffice. In most cases the defaults are good, and most likely won&#39;t need to be changed unless you are optimizing your tags array. </p>
<a id="md:tag-types-and-their-descriptions" class="tsd-anchor"></a><h3><a href="#md:tag-types-and-their-descriptions">Tag Types and Their Descriptions</a></h3><ol>
<li><p><strong>GPS</strong>: <code>[ &#39;g&#39;, &#39;&lt;latitude&gt;, &lt;longitude&gt;&#39;, &#39;dd&#39; ]</code>, <code>[ &#39;g&#39;, &#39;&lt;latitude&gt;&#39;, &#39;lat&#39; ]</code> and <code>[ l&#39;, &#39;&lt;longitude&gt;&#39;, &#39;lon&#39; ]</code></p>
<ul>
<li>Coordinates of diminishing resolution from the input latitude and longitude. One of each of these tags are passthrough, but the rest are progressively reduced in their precision until the final decimal point. If an integer is provided for one or both <code>lat</code> and <code>lon</code>, an integer is returned.</li>
</ul>
</li>
<li><p><strong>Geohash</strong>: <code>[ g&#39;, &#39;&lt;geohash&gt;&#39;]</code> (<code>NIP-52</code>)</p>
<ul>
<li>Geohashes of diminishing resolution from the input latitude and longitude. These are not passthrough; they are computed using the <code>ngeohash</code> library.</li>
</ul>
</li>
<li><p><strong>ISO-3166-1 Codes</strong>: </p>
<ul>
<li>These tags represent country information derived from the <code>iso-3166</code> library and are based on the provided <code>countryCode</code> input value. They are not passthrough.</li>
<li>Examples </li>
<li><strong><code>isoAsNamespace==false [default]</code></strong><ul>
<li>Alpha-2 code: <code>[ &#39;g&#39;, &#39;HU&#39;, &#39;countryCode&#39; ]</code></li>
<li>Alpha-3 code: <code>[ &#39;g&#39;, &#39;HUN&#39;, &#39;countryCode&#39;]</code></li>
</ul>
</li>
<li><strong><code>isoAsNamespace==true</code></strong><ul>
<li>Alpha-2 code: <code>[ &#39;g&#39;, &#39;HU&#39;, &#39;ISO-3166-1&#39; ]</code></li>
<li>Alpha-3 code: <code>[ &#39;g&#39;, &#39;HUN&#39;, &#39;ISO-3166-1&#39;]</code></li>
</ul>
</li>
</ul>
</li>
<li><p><strong>ISO-3166-2 Codes</strong>: </p>
<ul>
<li>These tags represent region information derived from the <code>iso-3166</code> library and are based on the <code>countryCode</code> and <code>regionCode</code> input values. They are not passthrough values.</li>
</ul>
</li>
<li><p><strong>ISO-3166-3 Codes</strong>: </p>
<ul>
<li>These tags also represent country information, but focus on historical changes in country codes. They are not passthrough.</li>
<li>Examples mirror the ISO-3166-1 format but relate to updated country codes.</li>
</ul>
</li>
<li><p><strong>City</strong>: <code>[ &#39;g&#39;, &#39;Budapest&#39;, &#39;cityName&#39; ]</code></p>
<ul>
<li>A passthrough from the input city name.</li>
</ul>
</li>
<li><p><strong>Planet</strong>: <code>[ &#39;g&#39;, &#39;Earth&#39;, &#39;planetName&#39; ]</code></p>
<ul>
<li>A passthrough, assuming Earth as the default planet in the absence of specific planetary data.</li>
</ul>
</li>
</ol>
<a id="md:iso-3166-3-behaviors" class="tsd-anchor"></a><h3><a href="#md:iso-3166-3-behaviors">ISO-3166-3 Behaviors</a></h3><p>When <code>iso31663</code> is enabled, it will affect the response contents. Any <code>ISO-3166-3</code> code found for a given <code>ISO-3166-1</code> <code>countryCode</code> that is not a duplicate of it&#39;s <code>ISO-3166-1</code> counterpart, will be appended to the tags array. Here&#39;s an example:</p>
<p>[
  [ &#39;G&#39;, &#39;countryCode&#39; ],
  [ &#39;g&#39;, &#39;AI&#39;, &#39;countryCode&#39;],
  [ &#39;g&#39;, &#39;AIA&#39;, &#39;countryCode&#39; ],
  [ &#39;g&#39;, &#39;660&#39;, &#39;countryCode&#39;],
  [ &#39;G&#39;, &#39;countryCode&#39; ],
  [ &#39;g&#39;, &#39;DJ&#39;, &#39;countryCode&#39; ],
  [ &#39;G&#39;, &#39;countryName&#39; ],
  [ &#39;g&#39;, &#39;Anguilla&#39;, &#39;countryName&#39; ]
]</p>
<p>Here two <code>alpha2</code> codes are returned, the original <code>ISO-3166-1</code> code, and the changed <code>ISO-3166-3</code> code. Since the other <code>ISO-3166-3</code> properties for <code>AI</code> are the same as their <code>ISO-3166-1</code> counter-parts, they are not included. </p>
<a id="md:example-response" class="tsd-anchor"></a><h2><a href="#md:example-response">Example Response</a></h2><p>Here is the default response when <code>lat</code>, <code>lon</code>, <code>countryCode</code>, <code>regionName</code>, <strong>and</strong> <code>planet</code> are provided, with everything else default</p>
<pre><code><span class="hl-1">[</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwdd8q4&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwdd8q&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwdd8&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwdd&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwd&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mw&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2m&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryCode&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;HU&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryCode&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;HUN&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryCode&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryName&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Hungary&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryName&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;cityName&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Budapest&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;cityName&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">]</span>
</code><button>Copy</button></pre>
<p>This is a response with all options enabled (deduped, <code>dedupe: true</code>)</p>
<pre><code><span class="hl-1"> [</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;dd&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;47.5636, 19.0947&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;dd&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lat&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;47.5636&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lat&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;47.563&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lat&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;47.56&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lat&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;47.5&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lat&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lon&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;19.0947&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lon&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;19.094&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lon&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;19.09&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lon&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;19&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;lon&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwdd8q4&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwdd8q&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwdd8&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwdd&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mwd&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2mw&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2m&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u2&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;u&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;geohash&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryCode&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;HU&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryCode&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;HUN&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryCode&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryName&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Hungary&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;countryName&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;regionCode&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;HU-BU&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;regionCode&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;cityName&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Budapest&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;cityName&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;G&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;planetName&#39;</span><span class="hl-1"> ],</span><br/><span class="hl-1">  [ </span><span class="hl-3">&#39;g&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;Earth&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;planetName&#39;</span><span class="hl-1"> ]</span><br/><span class="hl-1">]</span>
</code><button>Copy</button></pre>
<a id="md:development" class="tsd-anchor"></a><h2><a href="#md:development">Development</a></h2><p>To build the package, run:</p>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">run</span><span class="hl-1"> </span><span class="hl-0">build</span>
</code><button>Copy</button></pre>
<p>To run tests:</p>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">test</span>
</code><button>Copy</button></pre>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:nostr-geotags"><span>nostr-<wbr/>geotags</span></a><ul><li><a href="#md:summary"><span>Summary</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><a href="#md:input-reference"><span>Input <wbr/>Reference</span></a></li><li><a href="#md:input-reference-1"><span>Input <wbr/>Reference</span></a></li><li><a href="#md:options-reference"><span>Options <wbr/>Reference</span></a></li><li><ul><li><a href="#md:iso-options"><span>ISO options</span></a></li><li><a href="#md:transform-options"><span>Transform options</span></a></li><li><a href="#md:response-options"><span>Response <wbr/>Options</span></a></li><li><a href="#md:compatibility-options"><span>Compatibility <wbr/>Options</span></a></li></ul></li><li><a href="#md:response-reference"><span>Response <wbr/>Reference</span></a></li><li><ul><li><a href="#md:determining-tag-usage"><span>Determining tag usage</span></a></li><li><a href="#md:tag-types-and-their-descriptions"><span>Tag <wbr/>Types and <wbr/>Their <wbr/>Descriptions</span></a></li><li><a href="#md:iso-3166-3-behaviors"><span>ISO-<wbr/>3166-<wbr/>3 <wbr/>Behaviors</span></a></li></ul></li><li><a href="#md:example-response"><span>Example <wbr/>Response</span></a></li><li><a href="#md:development"><span>Development</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>nostr-geotags</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>